# =============================================================================
# Omnis Installer - Configuration GLF OS
# =============================================================================
# GLF OS - Gaming Linux FR
# Base: NixOS | Desktop: GNOME/KDE
# Source: https://www.gaminglinux.fr/glf-os/
# Repo: https://github.com/Gaming-Linux-FR/GLF-OS

version: "1.0"

# Theme directory (contains all branding assets)
theme: "config/themes/glfos"

# -----------------------------------------------------------------------------
# Branding - Identité visuelle officielle GLF OS
# -----------------------------------------------------------------------------
branding:
  # Identité
  name: "GLF OS"
  version: "Omnislash"
  edition: "Gaming"

  # Couleurs officielles (source: gaminglinux.fr)
  colors:
    primary: "#5597e6"      # Bleu GLF (titres, accents)
    secondary: "#4a8bd4"    # Bleu secondaire
    accent: "#5597e6"       # Accent (même que primary)
    background: "#1a1a1a"   # Fond sombre
    surface: "#32373c"      # Surface éléments/boutons
    text: "#fffded"         # Texte principal (cream)
    text_muted: "#9CA3AF"   # Texte secondaire

  # Assets (chemins relatifs au theme directory)
  assets:
    logo: "logos/logo.png"
    logo_light: "logos/logo_light.png"
    logo_small: "logos/logo-64.png"
    logo_256: "logos/logo-256.png"
    background: "wallpapers/dark.jpg"
    background_alt: "wallpapers/frost-2-dark.png"
    icon: "logos/logo-256.png"
    bootloader: "boot/glf-bootloader.png"
    efi_icon: "boot/glf-efi.png"

  # Textes personnalisés
  strings:
    welcome_title: "Bienvenue sur GLF OS"
    welcome_subtitle: "Linux Gaming made easy!"
    install_button: "Installer GLF OS"
    finished_title: "Installation terminée !"
    finished_message: "GLF OS est prêt. Redémarrez pour découvrir le gaming sur Linux."

  # Typographie
  fonts:
    primary: "Poppins"
    display: "Lemon Milk"
    monospace: "Roboto Mono"

# -----------------------------------------------------------------------------
# Jobs - Workflow d'installation NixOS
# -----------------------------------------------------------------------------
jobs:
  # Écran d'accueil et vérifications
  - name: welcome
    config:
      show_release_notes: true
      check_requirements:
        min_ram_gb: 4
        min_disk_gb: 40
        require_efi: true  # NixOS recommande EFI

  # Sélection de la langue et région
  - name: locale
    config:
      default_language: "fr_FR"
      default_timezone: "Europe/Paris"
      show_keyboard_preview: true

  # Partitionnement
  - name: partition
    config:
      default_filesystem: ext4
      allow_encryption: true
      allow_manual_partitioning: true
      efi_partition_size_mb: 512
      swap_strategy: auto

  # Installation du système (NixOS)
  - name: install
    config:
      source: "/iso/nixos"
      method: nixos-install
      preserve_permissions: true

  # Configuration utilisateur
  - name: users
    config:
      require_root_password: false
      default_shell: "/bin/bash"
      default_groups:
        - wheel
        - video
        - audio
        - storage
        - input  # Pour les manettes gaming

  # Bootloader
  - name: bootloader
    config:
      type: systemd-boot
      install_path: auto
      enable_os_prober: false  # NixOS gère son propre boot

  # Finalization
  - name: finished
    config:
      show_install_log: true
      auto_reboot_delay: 10

# -----------------------------------------------------------------------------
# Options avancées
# -----------------------------------------------------------------------------
advanced:
  log_level: info
  log_file: "/var/log/omnis-install.log"
  ipc_socket: "/run/omnis/ipc.sock"
  job_timeout: 3600
  debug_mode: false
